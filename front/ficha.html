
<!DOCTYPE html>
	<html>
		<head>
			<title> Ficha de anaminnese</title>
			<meta charset="utf-8">
			<link rel="stylesheet" type="text/css" href="estilo.css">
			

		</head>
		<body>
			<div id="wrap">
				<header>
					<h1>Ficha de Anaminnese</h1>
				</header>
				<section id="gerais">
					<label>Nome:</label>
						<input type="text" placeholder="Digite seu nome" name="nome" />
					<label>Telefone:</label>	
						<input type="text" placeholder="Número de celular" name="fone">
				</section>
				<section id="cor-de-pele">
					
					<form action="" method="post" id="formulario">
						
						<label> Cor de pele </label>
							
							<input type="radio" name="cor-de-pele" value="branco">Branco
							<input type="radio" name="cor-de-pele" value="pardo">Pardo
							<input type="radio" name="cor-de-pele" value="negro">Negro
							<input type="radio" name="cor-de-pele" value="amarelo">Amarelo
						
					</form>	
				</section>		
				<section id="cor-de-cabelo">
					 
						<label> Cor de Cabelo </label>
							<input type="radio" name="cor-de-cabelo" value="castanho.escuro">Castanho Escuro
							<input type="radio" name="cor-de-cabelo" value="castanho.medio">Castanho Médio
							<input type="radio" name="cor-de-cabelo" value="castanho.claro">Castanho Claro
							<input type="radio" name="cor-de-cabelo" value="marrom">Marrom
							<input type="radio" name="cor-de-cabelo"value="loiro">Loiro
							<input type="radio" name="cor-de-cabelo" value="ruivo">Ruivo
					
				</section>
				<section id="cor-dos-olhos">
					
						<label> Cor dos Olhos </label>
							<input type="radio" name="cor-dos-olhos" value="Azul">Azul
							<input type="radio" name="cor-dos-olhos" value="Azul-Esverdeado">Azul Esverdeado
							<input type="radio" name="cor-dos-olhos" value="Verdes">Verdes
							<input type="radio" name="cor-dos-olhos" value="Cinza">Cinza
							<input type="radio" name="cor-dos-olhos" value="Castanho">Castanho
							<input type="radio" name="cor-dos-olhos"value="Castanho-Esverdeado">Castanho Esverdeado
							<input type="radio" name="cor-dos-olhos"value="Ambar">Ãmbar (mel)
							<input type="radio" name="cor-dos-olhos"value="Heterocromia">Heterocromia
						
						<input type="submit" value="enviar" name="enviar">
					</form>
				</section>
				<section>
					<h1></h1>
				</section>
					

			</div>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
			<script type="text/javascript">
				$(document).ready(function() {

				 let cabelo, pele, olhos, nome, fone;

				 $('input[type=text][name=nome]').change(function() {
					if (this.value) {
					nome = this.value; 
					}
					});

					$('input[type=text][name=fone]').change(function() {
					if (this.value) {
					fone = this.value; 
					}
					});
					
				 $('input[type=radio][name=cor-de-cabelo]').change(function() {
					if (this.value) {
						//alert(`Selecionado cor de cabelo: ${this.value}`);
						cabelo = this.value.split('.').join(' ');
					}
					});

					$('input[type=radio][name=cor-dos-olhos]').change(function() {
					if (this.value) {
						//alert(`Selecionado cor de olhos: ${this.value}`);
						olhos = this.value .split('-').join(' ');
					}
					});
				

					$('input[type=radio][name=cor-de-pele]').change(function() {
					if (this.value) {
						//alert(`Selecionado tipo de pele: ${this.value}`);
						pele = this.value;
					}
				});
					$("[name=enviar]").click(function() {
						const dados = {
							cabelo,
							olhos,
							pele,
							nome,
							fone
						};
						console.dir(dados);
						$.ajax({
            url: "http://localhost:3001/client",
            type: "POST",
            crossDomain: true,
            data: dados,
            dataType: "json",
            success: function (response) {
                var resp = JSON.parse(response)
                alert(resp.status);
            },
            error: function (xhr, status) {
                alert("error");
            }
        });
					})
				});
			</script>
		</body>
</html>